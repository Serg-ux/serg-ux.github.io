<!doctype html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Instant</title>
  <meta name="generator" content="CherryTree">
  <link rel="stylesheet" href="../../assets/css/writeups_style.css" type="text/css" />
</head>
<body>
<div class='page'><h1 class='title'>Instant</h1><br/><p>Portscan</p><p></p><p><strong>nmap -sVC -p- --open -sS --min-rate 5000 -v -n --stats-every=5s -Pn -oN instant_scan 10.10.11.37</strong></p><p></p><p>We need to add the domain name to our hosts file</p><p></p><p><img src="images/183-1.png" alt="images/183-1.png" /></p><p></p><p>I try to enumerate subdomains and directories but i don&#39;t find any interesting</p><p></p><p>We can download a .apk file so let&#39;s download it and analyse it with jadx</p><p></p><p>With<strong> jadx-gui</strong> i open the .apk file to find usefull information</p><p></p><p><img src="images/183-2.png" alt="images/183-2.png" /></p><p></p><p>On the class AdminActivities i find a Admin JWT</p><p></p><p><img src="images/183-3.png" alt="images/183-3.png" /></p><p></p><p>Also i found two subdomains</p><p></p><p><img src="images/183-4.png" alt="images/183-4.png" /></p><p></p><p>On first subdomain there is nothing interesting</p><p></p><p>On swagger-ui.instant.htb We can see the log</p><p></p><p>I intercept the GET request with Burpsuite to see the request and the response</p><p></p><p>Using the JWT we have a LFI</p><p></p><p><img src="images/183-5.png" alt="images/183-5.png" /></p><p></p><p><img src="images/183-6.png" alt="images/183-6.png" /></p><p></p><p>Users â†’ shirohige</p><p></p><p>I can read the id_rsa for the user shirohige</p><p></p><p><img src="images/183-7.png" alt="images/183-7.png" /></p><p></p><p><img src="images/183-8.png" alt="images/183-8.png" /></p><p></p><p>I store this id_rsa and access to the machine throught ssh </p><p></p><p><img src="images/183-9.png" alt="images/183-9.png" /></p><p></p><p><img src="images/183-10.png" alt="images/183-10.png" /></p><p></p><p><img src="images/183-11.png" alt="images/183-11.png" /></p><p></p><p>Enumerating directories i find the directory backups</p><p></p><p><img src="images/183-12.png" alt="images/183-12.png" /></p><p></p><p>We have a sessions backup</p><p></p><p><img src="images/183-13.png" alt="images/183-13.png" /></p><p></p><p>I pass the file.dat to my attacker machine with wget and python3 http.server</p><p></p><p><img src="images/183-14.png" alt="images/183-14.png" /></p><p></p><p><img src="images/183-15.png" alt="images/183-15.png" /></p><p></p><p>In the cracked.txt i have the creds for the user root</p><p></p><p><img src="images/183-16.png" alt="images/183-16.png" /></p><p></p></div>
</body>
</html>
